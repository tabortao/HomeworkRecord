# 需求与优化

## 优化 1 ✅ 使用 VSCODE GPT-5 mini

添加/编辑任务功能更新

- 当用户添加或编辑任务时，打卡频次选择「一次性任务」时，可以设置该任务的开始日期（日期选择器，可以选择历史日期，代表补打卡），无结束日期；打卡频次选择「每天」、「每 n 天」或「每周」循环任务后，可以设置开始日期和结束日期（日期选择器）。用户可以通过复选框启用开始/结束日期设置，并选择具体的开始/结束日期。到期后，任务将自动从任务列表中隐藏，实现了完整的结束打卡日期功能。

1. 一次性任务：

   - 只能设置开始日期
   - 结束日期选项隐藏
   - 可以选择历史日期进行补打卡

2. 循环任务（每天/每 N 天/每周）：

   - 必须设置开始日期（默认为添加任务的当天日期）
   - 可以设置结束日期
   - 如果不设置结束日期，默认不结束
   - 根据频次生成对应的任务实例

3. 任务有效期：

   - 超过结束日期的任务自动隐藏
   - 未到开始日期的任务不显示
   - 可以通过日历查看历史任务

4. 注意事项：
   - 日期选择器的启用/禁用状态由复选框控制
   - 结束日期不能早于开始日期
   - 自定义天数必须大于 0
   - 保存任务时验证所有必要字段

## 优化2 

点击右下角的“+”按钮

## 优化3 ✅

添加任务时，默认计划时长 为 10 分钟，默认奖励金币为 1 金币。

当前每次添加循环任务会直接 push 生成的实例，可能造成重复（若用户多次提交或编辑）。建议引入 seriesId（循环任务系列 id），在保存时先删除/替换相同 seriesId 的未来实例，然后再生成新实例。

当用户编辑循环任务时，可使用 seriesId 作为识别，进行更新而不是删除所有（现在是先删除再生成，效果等同编辑替换）。

在 UI 的编辑模态中显示/注明该任务属于系列（series）及其 seriesId（可选显示为“系列：XX”），帮助用户理解编辑作用范围（影响历史或未来）。
实现“编辑只影响未来实例 / 或影响全部实例”的用户可选切换（例如给用户两个选项：只更新未来实例 / 更新历史+未来），增加灵活性。

## 优化 4

在任务卡上显示“计划时长 / 奖励金币”的默认值样式优化（目前只是表单默认填充）。
